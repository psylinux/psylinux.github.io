<!doctype html><html lang=pt-br data-bs-theme=dark><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1"><title>Solução de problemas - Marcos Azevedo (aka psylinux)</title><meta name=description content><meta name=author content="Blog do Marcos Azevedo"><link rel=icon type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link href=https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css rel=stylesheet integrity=sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css><link rel=stylesheet href=/css/khata.css><link rel=stylesheet href=/css/code-highlight.css><script src=/js/khata.js></script><script src=/js/code-copy.js></script></head><body class="mx-auto text-white d-flex flex-column p-2"><nav aria-label="Navegação principal"><a class="me-2 fs-4" href=/pt/><i class="bi bi-house-door-fill" aria-hidden=true></i>
<span class=visually-hidden>Início</span>
</a><a class="mx-2 fs-4" href=/pt/menu><i class="bi bi-list" aria-hidden=true></i>
<span class=visually-hidden>Menu</span>
</a><a class="ms-2 fs-4" href=/pt/search><i class="bi bi-search" aria-hidden=true></i>
<span class=visually-hidden>Buscar</span></a><div class="language-switcher d-inline-flex align-items-center gap-2 ms-3" aria-label=Idioma><a href=/series/experimenting-with-risc-v/19-troubleshooting/>English</a>
<span class=fw-semibold>Português</span></div></nav><main class="flex-grow-1 d-flex flex-column"><article><h1 class=my-4>Solução de problemas</h1><div class="metadata-panel p-2 mb-3 rounded border"><div class="metadata-value mb-1">Author: Marcos Azevedo</div><div class="metadata-value mb-1"><small>Date: <time>2026-01-20</time></small></div><div class="metadata-value mb-1"><small>Reading Time:
1 min</small></div><div class="metadata-value mb-1"><small>Section:
<a href=/series title=Section>Series</a></small></div><div class="metadata-value mb-1"><small>Categories:
<a class="px-1 mx-1 rounded border border-secondary bg-taxa" href=/categories/series title="categories: series">series</a></small></div><div class="metadata-value mb-1"><small>Tags:
<a class="px-1 mx-1 rounded border border-secondary bg-taxa" href=/tags/c-lang title="tags: c-lang">c-lang</a>
<a class="px-1 mx-1 rounded border border-secondary bg-taxa" href=/tags/programming title="tags: programming">programming</a>
<a class="px-1 mx-1 rounded border border-secondary bg-taxa" href=/tags/risc-v title="tags: risc-v">risc-v</a></small></div></div><div class="TableOfContents border rounded p-2 ms-2 mb-2"><nav id=TableOfContents><ul><li><a href=#qemu-não-mostra-saída>QEMU não mostra saída</a></li><li><a href=#gdb-conecta-mas-os-breakpoints-não-param>GDB conecta, mas os breakpoints não param</a></li><li><a href=#erros-de-linker-missing-_start>Erros de linker: missing _start</a></li><li><a href=#qemu-sai-imediatamente>QEMU sai imediatamente</a></li><li><a href=#exercícios>Exercícios</a></li><li><a href=#resumo>Resumo</a></li></ul></nav></div><h2 id=qemu-não-mostra-saída>QEMU não mostra saída</h2><ul><li>Confirme que você usou <code>-nographic</code> e <code>-bios none</code>.</li><li>Garanta que o programa escreve na UART em <code>0x10000000</code>.</li><li>Verifique se o ELF é RV32 (<code>readelf -h</code> mostra <code>ELF32</code> + <code>RISC-V</code>).</li></ul><h2 id=gdb-conecta-mas-os-breakpoints-não-param>GDB conecta, mas os breakpoints não param</h2><ul><li>Inicie o QEMU com <code>-S</code> para a CPU ficar pausada.</li><li>Certifique-se de que seu ELF tem símbolos (<code>-g</code>).</li><li>Defina <code>set arch riscv:rv32</code> no GDB.</li></ul><h2 id=erros-de-linker-missing-_start>Erros de linker: missing _start</h2><ul><li>Confirme que <code>src/start.s</code> está incluído na linha de comando.</li><li>Verifique se <code>src/link.ld</code> usa <code>ENTRY(_start)</code>.</li></ul><h2 id=qemu-sai-imediatamente>QEMU sai imediatamente</h2><ul><li>Se <code>main</code> retorna, <code>_start</code> deve entrar em loop ou executar <code>wfi</code>.</li><li>Verifique que sua função <code>_start</code> existe e não foi otimizada para fora.</li></ul><h2 id=exercícios>Exercícios</h2><ol><li>Remova <code>-T src/link.ld</code> de propósito e observe o erro.</li><li>Remova <code>src/start.s</code> e identifique o símbolo faltante.</li><li>Troque <code>-march</code> para <code>rv32i</code> e veja se algum exemplo quebra.</li></ol><h2 id=resumo>Resumo</h2><p>A maioria dos problemas vem de arquivo de startup faltando, ELF errado ou flags do QEMU esquecidas. As correções são determinísticas e fáceis de confirmar com <code>readelf</code> e GDB.</p><div class=mt-4><script src=https://giscus.app/client.js data-repo=psylinux/psylinux.github.io data-repo-id=R_kgDORCdA4Q data-category=Comments data-category-id=DIC_kwDORCdA4c4C1fwh data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=preferred_color_scheme data-lang=en data-loading=lazy crossorigin=anonymous async></script></div></article></main><div class=footer><div class="mb-4 d-flex flex-row justify-content-around"><div class=mr-4><a href=/pt/series/experimenting-with-risc-v/18-summary/ data-toggle=tooltip data-placement=top title="Resumo da série"><i class="bi bi-chevron-left" style=font-size:2em></i></a></div><div class=ms-4><a href=/pt/series/experimenting-with-risc-v/20-glossary/ data-toggle=tooltip data-placement=top title=Glossário><i class="bi bi-chevron-right" style=font-size:2em></i></a></div></div><footer class="border-top border-light py-2 d-flex flex-row flex-wrap justify-content-between"><div class=copyright><small>psylinux</small></div><div><small>Copyrighted © Marcos Azevedo, 2025.</small></div></footer><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "b1b9cb012238436c9efbac840abc1907"}'></script></div></body></html>